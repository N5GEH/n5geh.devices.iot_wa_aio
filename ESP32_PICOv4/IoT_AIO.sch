EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 6
Title "IoT - Wireless Adapter - Analog IO"
Date "2020-06-27"
Rev ""
Comp "RWTH - ACS"
Comment1 "Author: Carlo Guarnieri Cal√≤ Carducci"
Comment2 "email: cguarnieri@eonerc.rwth-aachen.de"
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 8750 4350 900  700 
U 5CB9AD66
F0 "AO" 50
F1 "wp1_task2_ao.sch" 50
F2 "PWM" I L 8750 4750 50 
F3 "AO" O R 9650 4700 50 
F4 "OD" I L 8750 4450 50 
F5 "EF" O L 8750 4900 50 
F6 "AOCAL" O R 9650 4550 50 
$EndSheet
$Sheet
S 8750 5450 900  700 
U 5CDDCD41
F0 "CAL" 50
F1 "wp1_task3_aio_cal.sch" 50
F2 "DAC" I L 8750 5650 50 
F3 "GPIO" I L 8750 5950 50 
F4 "Vcal" O R 9650 5800 50 
$EndSheet
$Comp
L power:+5V #PWR02
U 1 1 5CE1A7B1
P 2350 2800
F 0 "#PWR02" H 2350 2650 50  0001 C CNN
F 1 "+5V" H 2365 2973 50  0000 C CNN
F 2 "" H 2350 2800 50  0001 C CNN
F 3 "" H 2350 2800 50  0001 C CNN
	1    2350 2800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 5CE1AE45
P 2950 2800
F 0 "#PWR05" H 2950 2550 50  0001 C CNN
F 1 "GND" V 2955 2672 50  0000 R CNN
F 2 "" H 2950 2800 50  0001 C CNN
F 3 "" H 2950 2800 50  0001 C CNN
	1    2950 2800
	-1   0    0    1   
$EndComp
$Comp
L power:+3V3 #PWR03
U 1 1 5CE1F64E
P 2550 2800
F 0 "#PWR03" H 2550 2650 50  0001 C CNN
F 1 "+3V3" H 2565 2973 50  0000 C CNN
F 2 "" H 2550 2800 50  0001 C CNN
F 3 "" H 2550 2800 50  0001 C CNN
	1    2550 2800
	1    0    0    -1  
$EndComp
$Comp
L power:GNDA #PWR04
U 1 1 5CE1FC6B
P 2750 2800
F 0 "#PWR04" H 2750 2550 50  0001 C CNN
F 1 "GNDA" V 2750 2600 50  0000 C CNN
F 2 "" H 2750 2800 50  0001 C CNN
F 3 "" H 2750 2800 50  0001 C CNN
	1    2750 2800
	-1   0    0    1   
$EndComp
$Sheet
S 8750 2850 900  700 
U 5CB9AD6D
F0 "AI" 50
F1 "wp1_task1_ai.sch" 50
F2 "ADC" O R 9650 2950 50 
F3 "AI" I R 9650 3150 50 
F4 "Vcal" I R 9650 3400 50 
F5 "AOCAL" I L 8750 3400 50 
F6 "A1" I L 8750 2950 50 
F7 "A0" I L 8750 3100 50 
F8 "EN" I L 8750 3250 50 
$EndSheet
Wire Notes Line
	2050 2450 2050 3050
Wire Notes Line
	2050 3050 3050 3050
Wire Notes Line
	3050 3050 3050 2450
Wire Notes Line
	3050 2450 2050 2450
$Sheet
S 8750 6550 900  700 
U 5CDC79B3
F0 "SENS" 50
F1 "wp1_task4_res_sens.sch" 50
F2 "IFORCE+" I R 9650 6800 50 
F3 "IFORCE-" I R 9650 7100 50 
F4 "RTDIN+" I R 9650 6900 50 
F5 "RTDIN-" I R 9650 7000 50 
F6 "SCK" I L 8750 6850 50 
F7 "SDI" I L 8750 7050 50 
F8 "SDO" O L 8750 6950 50 
F9 "SS" I L 8750 6750 50 
F10 "DRDY" O L 8750 6650 50 
$EndSheet
$Comp
L power:+24V #PWR01
U 1 1 5D0AD61E
P 2150 2800
F 0 "#PWR01" H 2150 2650 50  0001 C CNN
F 1 "+24V" H 2165 2973 50  0000 C CNN
F 2 "" H 2150 2800 50  0001 C CNN
F 3 "" H 2150 2800 50  0001 C CNN
	1    2150 2800
	1    0    0    -1  
$EndComp
Text Notes 2400 2950 0    50   ~ 10
LABELS
Wire Wire Line
	9650 4550 9750 4550
Wire Wire Line
	9750 4550 9750 3750
Wire Wire Line
	9750 3750 8600 3750
Wire Wire Line
	8600 3750 8600 3400
Wire Wire Line
	8600 3400 8750 3400
Wire Wire Line
	9650 5800 10050 5800
Wire Wire Line
	10050 5800 10050 3400
Wire Wire Line
	10050 3400 9650 3400
$Comp
L power:+24V #PWR037
U 1 1 5D2B442A
P 13050 5650
F 0 "#PWR037" H 13050 5500 50  0001 C CNN
F 1 "+24V" H 13065 5823 50  0000 C CNN
F 2 "" H 13050 5650 50  0001 C CNN
F 3 "" H 13050 5650 50  0001 C CNN
	1    13050 5650
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR038
U 1 1 5D2B498B
P 12050 4550
F 0 "#PWR038" H 12050 4300 50  0001 C CNN
F 1 "GND" H 12055 4377 50  0000 C CNN
F 2 "" H 12050 4550 50  0001 C CNN
F 3 "" H 12050 4550 50  0001 C CNN
	1    12050 4550
	-1   0    0    1   
$EndComp
Text Label 6450 6750 2    50   ~ 10
SCK_SENSOR
Text Label 6450 6900 2    50   ~ 10
MOSI_SENSOR
Text Label 6450 7050 2    50   ~ 10
MISO_SENSOR
Text Label 6450 6600 2    50   ~ 10
CS_SENSOR
Text Label 6450 6300 2    50   ~ 10
DRDY_SENSOR
Text Label 3650 6900 0    50   ~ 10
OFFSET_DAC
Text Label 3650 5550 0    50   ~ 10
CAL_GPIO
Text Label 3650 6300 0    50   ~ 10
XTR111_EF
Text Label 3650 5850 0    50   ~ 10
XTR111_PWM
Text Label 3650 6150 0    50   ~ 10
XTR111_OD
Text Label 6400 7200 0    50   ~ 10
MUX_EN
Text Label 6400 6450 0    50   ~ 10
MUX_A0
Text Label 6400 7350 0    50   ~ 10
MUX_A1
Wire Wire Line
	6400 5400 5900 5400
Text Label 6400 5400 2    50   ~ 10
ADC_AI
$Sheet
S 8750 7700 900  550 
U 5D2757DE
F0 "SUPPLY" 50
F1 "wp1_task5_supply.sch" 50
F2 "24V" I L 8750 7950 50 
F3 "5V" O R 9650 7950 50 
F4 "3V3" I R 9650 8100 50 
$EndSheet
$Comp
L power:+5V #PWR050
U 1 1 5D31CBA3
P 9850 7950
F 0 "#PWR050" H 9850 7800 50  0001 C CNN
F 1 "+5V" H 9865 8123 50  0000 C CNN
F 2 "" H 9850 7950 50  0001 C CNN
F 3 "" H 9850 7950 50  0001 C CNN
	1    9850 7950
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 7950 9850 7950
$Comp
L power:GND #PWR047
U 1 1 5D327387
P 3900 4950
F 0 "#PWR047" H 3900 4700 50  0001 C CNN
F 1 "GND" V 3905 4822 50  0000 R CNN
F 2 "" H 3900 4950 50  0001 C CNN
F 3 "" H 3900 4950 50  0001 C CNN
	1    3900 4950
	1    0    0    1   
$EndComp
$Comp
L power:+5V #PWR046
U 1 1 5D328013
P 4050 4950
F 0 "#PWR046" H 4050 4800 50  0001 C CNN
F 1 "+5V" H 4065 5123 50  0000 C CNN
F 2 "" H 4050 4950 50  0001 C CNN
F 3 "" H 4050 4950 50  0001 C CNN
	1    4050 4950
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR048
U 1 1 5D328B3A
P 3750 4950
F 0 "#PWR048" H 3750 4800 50  0001 C CNN
F 1 "+3V3" H 3765 5123 50  0000 C CNN
F 2 "" H 3750 4950 50  0001 C CNN
F 3 "" H 3750 4950 50  0001 C CNN
	1    3750 4950
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4150 4950 4050 4950
Wire Wire Line
	4150 5100 3900 5100
Wire Wire Line
	4150 6300 3650 6300
Wire Wire Line
	3900 5100 3900 4950
Wire Wire Line
	4150 5250 3750 5250
Wire Wire Line
	3750 5250 3750 4950
$Comp
L power:+3V3 #PWR044
U 1 1 5D2DCFC1
P 6050 4950
F 0 "#PWR044" H 6050 4800 50  0001 C CNN
F 1 "+3V3" H 6065 5123 50  0000 C CNN
F 2 "" H 6050 4950 50  0001 C CNN
F 3 "" H 6050 4950 50  0001 C CNN
	1    6050 4950
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR043
U 1 1 5D2DD55D
P 6200 4950
F 0 "#PWR043" H 6200 4700 50  0001 C CNN
F 1 "GND" V 6205 4822 50  0000 R CNN
F 2 "" H 6200 4950 50  0001 C CNN
F 3 "" H 6200 4950 50  0001 C CNN
	1    6200 4950
	1    0    0    1   
$EndComp
Wire Wire Line
	5900 4950 6050 4950
Wire Wire Line
	5900 5100 6200 5100
Wire Wire Line
	6200 5100 6200 4950
Wire Wire Line
	4150 5550 3650 5550
Wire Wire Line
	4150 6900 3650 6900
Wire Wire Line
	4150 6150 3650 6150
Wire Wire Line
	4150 5850 3650 5850
Wire Wire Line
	6450 6600 5900 6600
Wire Wire Line
	6450 6750 5900 6750
Wire Wire Line
	6450 6900 5900 6900
Wire Wire Line
	6450 7050 5900 7050
Wire Wire Line
	6450 6300 5900 6300
Text Label 8500 2950 2    50   ~ 10
MUX_A1
Text Label 8500 3100 2    50   ~ 10
MUX_A0
Wire Wire Line
	8750 2950 8500 2950
Wire Wire Line
	8750 3100 8500 3100
Text Label 8500 3250 2    50   ~ 10
MUX_EN
Wire Wire Line
	8500 3250 8750 3250
Text Label 8500 4450 2    50   ~ 10
XTR111_OD
Text Label 8450 4750 2    50   ~ 10
XTR111_PWM
Text Label 8350 5950 2    50   ~ 10
CAL_GPIO
Wire Wire Line
	8500 4450 8750 4450
Wire Wire Line
	8450 4750 8750 4750
Wire Wire Line
	8450 4900 8750 4900
Text Label 8350 5650 2    50   ~ 10
OFFSET_DAC
Wire Wire Line
	8350 5650 8750 5650
Wire Wire Line
	8350 5950 8750 5950
Text Label 8450 4900 2    50   ~ 10
XTR111_EF
Text Label 8450 6750 2    50   ~ 10
CS_SENSOR
Text Label 8450 6850 2    50   ~ 10
SCK_SENSOR
Text Label 8450 7050 2    50   ~ 10
MOSI_SENSOR
Text Label 8450 6950 2    50   ~ 10
MISO_SENSOR
Text Label 8450 6650 2    50   ~ 10
DRDY_SENSOR
Wire Wire Line
	8450 6750 8750 6750
Wire Wire Line
	8450 6850 8750 6850
Wire Wire Line
	8450 6950 8750 6950
Wire Wire Line
	8450 7050 8750 7050
Text Label 9950 2950 0    50   ~ 10
ADC_AI
Wire Wire Line
	9650 2950 9950 2950
Wire Wire Line
	8450 6650 8750 6650
Wire Wire Line
	9650 6800 10750 6800
Wire Wire Line
	9650 6900 10750 6900
Wire Wire Line
	9650 7000 10750 7000
Wire Wire Line
	9650 7100 10750 7100
Text Label 10750 6800 2    50   ~ 10
IFORCE+
Text Label 12400 4850 2    50   ~ 10
IFORCE+
Text Label 10750 6900 2    50   ~ 10
RTDIN+
Text Label 11900 5900 2    50   ~ 10
RTDIN+
Wire Wire Line
	12000 5400 11900 5400
Text Label 10750 7000 2    50   ~ 10
RTDIN-
Text Label 11900 5400 2    50   ~ 10
RTDIN-
Wire Wire Line
	12000 5900 11900 5900
Text Label 10750 7100 2    50   ~ 10
IFORCE-
Text Label 12400 4700 2    50   ~ 10
IFORCE-
Wire Wire Line
	9650 3150 9950 3150
Wire Wire Line
	9650 4700 10000 4700
Text Label 10000 4700 2    50   ~ 10
AO
Text Label 9950 3150 2    50   ~ 10
AI
Text Label 11900 5700 2    50   ~ 10
AI
Text Label 11900 5200 2    50   ~ 10
AO
Wire Wire Line
	12000 5700 11900 5700
Wire Wire Line
	12000 5200 11900 5200
$Comp
L power:+24V #PWR052
U 1 1 5D43F2E2
P 8550 7950
F 0 "#PWR052" H 8550 7800 50  0001 C CNN
F 1 "+24V" H 8565 8123 50  0000 C CNN
F 2 "" H 8550 7950 50  0001 C CNN
F 3 "" H 8550 7950 50  0001 C CNN
	1    8550 7950
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 7950 8550 7950
Wire Wire Line
	9650 8100 10050 8100
$Comp
L power:+3V3 #PWR053
U 1 1 5D44AD3E
P 10050 8100
F 0 "#PWR053" H 10050 7950 50  0001 C CNN
F 1 "+3V3" H 10065 8273 50  0000 C CNN
F 2 "" H 10050 8100 50  0001 C CNN
F 3 "" H 10050 8100 50  0001 C CNN
	1    10050 8100
	1    0    0    -1  
$EndComp
$Comp
L IoT_AIO_libraries:SW_DPDT_x4 SW2
U 2 1 5D38B075
P 12200 5300
F 0 "SW2" H 12200 5585 50  0000 C CNN
F 1 "SW_SPDT_x2" H 12200 5494 50  0000 C CNN
F 2 "Footprint:AYZ0202AGRL" H 12200 4550 50  0000 C CNN
F 3 "https://www.mouser.de/datasheet/2/60/ayz-1382746.pdf" H 12200 5300 50  0001 C CNN
	2    12200 5300
	-1   0    0    -1  
$EndComp
$Comp
L IoT_AIO_libraries:SW_DPDT_x4 SW2
U 1 1 5D389BAB
P 12200 5800
F 0 "SW2" H 12200 6085 50  0000 C CNN
F 1 "SW_SPDT_x2" H 12200 5994 50  0000 C CNN
F 2 "Footprint:AYZ0202AGRL" H 12200 5800 50  0001 C CNN
F 3 "https://www.mouser.de/datasheet/2/60/ayz-1382746.pdf" H 12200 5800 50  0001 C CNN
	1    12200 5800
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 5D5B82FA
P 3250 4200
F 0 "#PWR0101" H 3250 3950 50  0001 C CNN
F 1 "GND" V 3255 4072 50  0000 R CNN
F 2 "" H 3250 4200 50  0001 C CNN
F 3 "" H 3250 4200 50  0001 C CNN
	1    3250 4200
	1    0    0    1   
$EndComp
Connection ~ 3250 4500
$Comp
L Device:R R24
U 1 1 5D5B7797
P 3250 4350
F 0 "R24" V 3043 4350 50  0000 C CNN
F 1 "10k" V 3134 4350 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3180 4350 50  0001 C CNN
F 3 "~" H 3250 4350 50  0001 C CNN
	1    3250 4350
	1    0    0    1   
$EndComp
Wire Wire Line
	3250 4500 3250 4550
Wire Wire Line
	3100 4500 3250 4500
Wire Wire Line
	3250 4900 3100 4900
Wire Wire Line
	3250 4850 3250 4900
$Comp
L Device:C C14
U 1 1 5D5AF6D5
P 3250 4700
F 0 "C14" V 3000 4700 50  0000 C CNN
F 1 "100n" V 3100 4700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" H 3288 4550 50  0001 C CNN
F 3 "~" H 3250 4700 50  0001 C CNN
	1    3250 4700
	-1   0    0    -1  
$EndComp
$Comp
L Switch:SW_Push SW3
U 1 1 5D5AB19E
P 3100 4700
F 0 "SW3" H 3100 4985 50  0000 C CNN
F 1 "SW_Push" H 3100 4894 50  0000 C CNN
F 2 "Footprint:PTS636" H 3100 4900 50  0000 C CNN
F 3 "~" H 3100 4900 50  0001 C CNN
	1    3100 4700
	0    -1   1    0   
$EndComp
Connection ~ 3100 4900
Wire Wire Line
	3100 5400 3100 4900
Wire Wire Line
	4150 5400 3100 5400
$Comp
L IoT_AIO_libraries:ESP-32-PICO-KIT-V4 U1
U 1 1 5D27E9BD
P 5000 6550
F 0 "U1" H 4975 8415 50  0000 C CNN
F 1 "ESP-32-PICO-KIT-V4" H 4975 8324 50  0000 C CNN
F 2 "Footprint:ESP32v4" H 5000 6550 50  0000 C CNN
F 3 "" H 5000 6550 50  0001 C CNN
	1    5000 6550
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5900 7350 6400 7350
Wire Wire Line
	5900 7200 6400 7200
Wire Wire Line
	5900 6450 6400 6450
NoConn ~ 5900 6000
NoConn ~ 5900 6150
Wire Wire Line
	13050 5650 13150 5650
Wire Wire Line
	13050 4550 13050 5150
Wire Wire Line
	13050 5150 13150 5150
Wire Wire Line
	12050 4550 13050 4550
$Comp
L Connector_Generic:Conn_01x06 J1
U 1 1 5D60360C
P 13350 5350
F 0 "J1" H 13430 5387 50  0000 L CNN
F 1 "Conn_01x06" H 13430 5296 50  0000 L CNN
F 2 "Footprint:XW4L-06A1-H1" H 13430 5205 50  0000 L CNN
F 3 "~" H 13350 5350 50  0001 C CNN
	1    13350 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	12400 4700 12900 4700
Wire Wire Line
	12900 4700 12900 5250
Wire Wire Line
	12900 5250 13150 5250
Wire Wire Line
	12400 4850 12750 4850
Wire Wire Line
	12750 4850 12750 5350
Wire Wire Line
	12750 5350 13150 5350
Wire Wire Line
	12400 5300 12600 5300
Wire Wire Line
	12600 5300 12600 5450
Wire Wire Line
	12600 5450 13150 5450
Wire Wire Line
	12400 5800 12600 5800
Wire Wire Line
	12600 5800 12600 5550
Wire Wire Line
	12600 5550 13150 5550
Wire Wire Line
	6400 5250 5900 5250
Text Label 6400 5250 2    50   ~ 10
EN
NoConn ~ 5900 5550
NoConn ~ 5900 5700
NoConn ~ 5900 5850
$EndSCHEMATC
